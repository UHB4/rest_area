{"ast":null,"code":"var _jsxFileName = \"C:\\\\UHB\\\\rest_area\\\\src\\\\routes\\\\Chart7.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { Chart as ChartJS, LinearScale, CategoryScale, BarElement, PointElement, LineElement, Legend, Tooltip, LineController, BarController } from 'chart.js';\nimport { Bar } from 'react-chartjs-2';\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ChartLine() {\n  _s();\n  ChartJS.register(LinearScale, CategoryScale, BarElement, PointElement, LineElement, Legend, Tooltip, LineController, BarController);\n  const [oilData, setOilData] = useState({});\n  useEffect(() => {\n    axios.get('http://127.0.0.1:5000/api/avgRecentPrice').then(response => {\n      setOilData(response.data);\n    }).catch(error => {\n      console.error('Error fetching data: ', error);\n    });\n  }, []);\n  const formatChartData = oilData => {\n    if (!oilData || Object.keys(oilData).length === 0) {\n      return {\n        labels: [],\n        datasets: []\n      };\n    }\n    const oilNames = {\n      'B034': '고급휘발유',\n      'B027': '보통휘발유',\n      'D047': '자동차경유',\n      'C004': '실내등유'\n      // 'K015': '자동차부탄',\n    };\n    const excludedOilTypes = ['K015']; // 자동차부탄 제외\n    const labels = oilData['B027'].map(item => item.date);\n    const datasets = Object.keys(oilData).filter(oilType => !excludedOilTypes.includes(oilType)).map((label, index) => {\n      const data = oilData[label].map(item => item.price);\n      return {\n        label: oilNames[label],\n        backgroundColor: 'rgb(255,176,176)',\n        data: data,\n        hidden: index !== 0\n      };\n    });\n    return {\n      labels: labels,\n      datasets: datasets\n    };\n  };\n  const chartData = formatChartData(oilData);\n  const legendTitle = {\n    display: true,\n    text: '7일간 유가 변동',\n    padding: 20,\n    font: {\n      size: 16,\n      weight: 'bold'\n    }\n  };\n  const options = {\n    plugins: {\n      legend: {\n        title: legendTitle\n      }\n    },\n    scales: {\n      'y': {\n        display: true,\n        position: 'left',\n        Min: 1300,\n        // 데이터에 따라 조정 가능\n        suggestedMax: 2000,\n        // 데이터의 최대값에 따라 조정 가능\n        ticks: {\n          stepSize: 100,\n          // 데이터의 범위에 따라 적절한 틱 간격 설정\n          callback: function (value) {\n            return value + '원';\n          }\n        }\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      width: '100%',\n      maxWidth: '400px',\n      margin: 'auto'\n    },\n    children: /*#__PURE__*/_jsxDEV(Bar, {\n      data: chartData,\n      options: options,\n      width: 400,\n      height: 460\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 112,\n    columnNumber: 9\n  }, this);\n}\n_s(ChartLine, \"hONjO0vMaAcWhbFabZOuIitC9ck=\");\n_c = ChartLine;\nexport default ChartLine;\nvar _c;\n$RefreshReg$(_c, \"ChartLine\");","map":{"version":3,"names":["React","useEffect","useState","Chart","ChartJS","LinearScale","CategoryScale","BarElement","PointElement","LineElement","Legend","Tooltip","LineController","BarController","Bar","axios","jsxDEV","_jsxDEV","ChartLine","_s","register","oilData","setOilData","get","then","response","data","catch","error","console","formatChartData","Object","keys","length","labels","datasets","oilNames","excludedOilTypes","map","item","date","filter","oilType","includes","label","index","price","backgroundColor","hidden","chartData","legendTitle","display","text","padding","font","size","weight","options","plugins","legend","title","scales","position","Min","suggestedMax","ticks","stepSize","callback","value","style","width","maxWidth","margin","children","height","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/UHB/rest_area/src/routes/Chart7.js"],"sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport {\r\n    Chart as ChartJS,\r\n    LinearScale,\r\n    CategoryScale,\r\n    BarElement,\r\n    PointElement,\r\n    LineElement,\r\n    Legend,\r\n    Tooltip,\r\n    LineController,\r\n    BarController,\r\n} from 'chart.js';\r\nimport {Bar} from 'react-chartjs-2';\r\nimport axios from \"axios\";\r\n\r\nfunction ChartLine() {\r\n    ChartJS.register(\r\n        LinearScale,\r\n        CategoryScale,\r\n        BarElement,\r\n        PointElement,\r\n        LineElement,\r\n        Legend,\r\n        Tooltip,\r\n        LineController,\r\n        BarController\r\n    );\r\n\r\n    const [oilData, setOilData] = useState({});\r\n\r\n    useEffect(() => {\r\n        axios.get('http://127.0.0.1:5000/api/avgRecentPrice')\r\n            .then(response => {\r\n                setOilData(response.data);\r\n            })\r\n            .catch(error => {\r\n                console.error('Error fetching data: ', error);\r\n            });\r\n    }, []);\r\n\r\n    const formatChartData = (oilData) => {\r\n\r\n        if (!oilData || Object.keys(oilData).length === 0) {\r\n            return {\r\n                labels: [],\r\n                datasets: [],\r\n            };\r\n        }\r\n        const oilNames = {\r\n            'B034': '고급휘발유',\r\n            'B027': '보통휘발유',\r\n            'D047': '자동차경유',\r\n            'C004': '실내등유',\r\n            // 'K015': '자동차부탄',\r\n        };\r\n        const excludedOilTypes = ['K015']; // 자동차부탄 제외\r\n        const labels = oilData['B027'].map(item => item.date);\r\n        const datasets = Object.keys(oilData)\r\n            .filter(oilType => !excludedOilTypes.includes(oilType))\r\n            .map((label,index) => {\r\n                const data = oilData[label].map(item => item.price);\r\n                return {\r\n                    label: oilNames[label],\r\n                    backgroundColor: 'rgb(255,176,176)',\r\n                    data: data,\r\n                    hidden: index !== 0,\r\n\r\n                };\r\n            });\r\n\r\n        return {\r\n            labels: labels,\r\n            datasets: datasets,\r\n        };\r\n    };\r\n    const chartData = formatChartData(oilData);\r\n\r\n    const legendTitle = {\r\n        display: true,\r\n        text: '7일간 유가 변동',\r\n        padding: 20,\r\n        font: {\r\n            size: 16,\r\n            weight: 'bold',\r\n        }\r\n    };\r\n\r\n    const options = {\r\n        plugins: {\r\n            legend: {\r\n                title: legendTitle,\r\n            }\r\n        },\r\n        scales: {\r\n            'y': {\r\n                display: true,\r\n                position: 'left',\r\n                Min: 1300, // 데이터에 따라 조정 가능\r\n                suggestedMax: 2000, // 데이터의 최대값에 따라 조정 가능\r\n                ticks: {\r\n                    stepSize: 100, // 데이터의 범위에 따라 적절한 틱 간격 설정\r\n                    callback: function (value) {\r\n                        return value + '원';\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div style={{width: '100%', maxWidth: '400px', margin: 'auto'}}>\r\n            <Bar data={chartData} options={options} width={400} height={460} />\r\n        </div>\r\n    );\r\n}\r\n\r\n    export default ChartLine;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}