{"ast":null,"code":"import React,{useState,useEffect}from'react';import styles from'./statistics.module.css';import axios from\"axios\";import NationalGasPricesChart from'./Chart/NationalGasPricesChart.js';import NearbyGasChart from'./Chart/NearbyGasChart.js';import EVChargingSlots from'./Chart/EVChargingSlots.js';import Chart7 from\"./Chart/Chart7\";import SearchOilCharge from'./SearchOilCharge';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function Statistics(){const[locationData,setLocationData]=useState(null);// 위치 정보를 가져오고 데이터를 로드하는 함수\nconst fetchLocationAndData=()=>{navigator.geolocation.getCurrentPosition(position=>{const{latitude,longitude}=position.coords;axios.post('http://13.125.136.48:5000/api/gas-stations',{latitude,longitude}).then(response=>{setLocationData(response.data);console.log('넘어온 데이터:',response.data);}).catch(error=>{console.error('데이터 에러:',error);});},error=>{console.error('Error getting location:',error);});};useEffect(()=>{fetchLocationAndData();},[]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:styles.statistics,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.box1,children:/*#__PURE__*/_jsx(SearchOilCharge,{})}),/*#__PURE__*/_jsx(\"div\",{className:styles.box2,children:/*#__PURE__*/_jsxs(\"div\",{className:styles.chartContainer2,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.smallbox2,children:/*#__PURE__*/_jsx(NationalGasPricesChart,{})}),/*#__PURE__*/_jsx(\"div\",{className:styles.smallbox3,children:/*#__PURE__*/_jsx(NearbyGasChart,{data:locationData})}),/*#__PURE__*/_jsx(\"div\",{className:styles.smallbox2,children:/*#__PURE__*/_jsx(Chart7,{})}),/*#__PURE__*/_jsx(\"div\",{className:styles.smallbox3,children:/*#__PURE__*/_jsx(EVChargingSlots,{})})]})})]})});}export default Statistics;","map":{"version":3,"names":["React","useState","useEffect","styles","axios","NationalGasPricesChart","NearbyGasChart","EVChargingSlots","Chart7","SearchOilCharge","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Statistics","locationData","setLocationData","fetchLocationAndData","navigator","geolocation","getCurrentPosition","position","latitude","longitude","coords","post","then","response","data","console","log","catch","error","children","className","statistics","box1","box2","chartContainer2","smallbox2","smallbox3"],"sources":["C:/UHB/rest_area/src/routes/Statistics.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport styles from './statistics.module.css';\r\nimport axios from \"axios\";\r\nimport NationalGasPricesChart from './Chart/NationalGasPricesChart.js';\r\nimport NearbyGasChart from './Chart/NearbyGasChart.js';\r\nimport EVChargingSlots from './Chart/EVChargingSlots.js';\r\nimport Chart7 from \"./Chart/Chart7\";\r\nimport SearchOilCharge from './SearchOilCharge';\r\n\r\nfunction Statistics() {\r\n    const [locationData, setLocationData] = useState(null);\r\n    // 위치 정보를 가져오고 데이터를 로드하는 함수\r\n    const fetchLocationAndData = () => {\r\n        navigator.geolocation.getCurrentPosition(position => {\r\n            const { latitude, longitude } = position.coords;\r\n            axios.post('http://13.125.136.48:5000/api/gas-stations', {\r\n                latitude,\r\n                longitude\r\n            })\r\n                .then(response => {\r\n                    setLocationData(response.data);\r\n                    console.log('넘어온 데이터:', response.data);\r\n                })\r\n                .catch(error => {\r\n                    console.error('데이터 에러:', error);\r\n                });\r\n        }, error => {\r\n            console.error('Error getting location:', error);\r\n        });\r\n    };\r\n    useEffect(() => {\r\n        fetchLocationAndData();\r\n    }, []);\r\n\r\n\r\n    return (\r\n        <>\r\n        <div className={styles.statistics}>\r\n            <div className={styles.box1}>\r\n                    <SearchOilCharge/>\r\n            </div>\r\n            <div className={styles.box2}>\r\n                    <div className={styles.chartContainer2}>\r\n                        <div className={styles.smallbox2}>\r\n                            <NationalGasPricesChart/>\r\n                        </div>\r\n                        <div className={styles.smallbox3}>\r\n                            <NearbyGasChart data={locationData}/>\r\n                        </div>\r\n                        <div className={styles.smallbox2}>\r\n                            <Chart7/>\r\n                        </div>\r\n                        <div className={styles.smallbox3}>\r\n                            <EVChargingSlots/>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Statistics;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,MAAM,KAAM,yBAAyB,CAC5C,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,sBAAsB,KAAM,mCAAmC,CACtE,MAAO,CAAAC,cAAc,KAAM,2BAA2B,CACtD,MAAO,CAAAC,eAAe,KAAM,4BAA4B,CACxD,MAAO,CAAAC,MAAM,KAAM,gBAAgB,CACnC,MAAO,CAAAC,eAAe,KAAM,mBAAmB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEhD,QAAS,CAAAC,UAAUA,CAAA,CAAG,CAClB,KAAM,CAACC,YAAY,CAAEC,eAAe,CAAC,CAAGjB,QAAQ,CAAC,IAAI,CAAC,CACtD;AACA,KAAM,CAAAkB,oBAAoB,CAAGA,CAAA,GAAM,CAC/BC,SAAS,CAACC,WAAW,CAACC,kBAAkB,CAACC,QAAQ,EAAI,CACjD,KAAM,CAAEC,QAAQ,CAAEC,SAAU,CAAC,CAAGF,QAAQ,CAACG,MAAM,CAC/CtB,KAAK,CAACuB,IAAI,CAAC,4CAA4C,CAAE,CACrDH,QAAQ,CACRC,SACJ,CAAC,CAAC,CACGG,IAAI,CAACC,QAAQ,EAAI,CACdX,eAAe,CAACW,QAAQ,CAACC,IAAI,CAAC,CAC9BC,OAAO,CAACC,GAAG,CAAC,UAAU,CAAEH,QAAQ,CAACC,IAAI,CAAC,CAC1C,CAAC,CAAC,CACDG,KAAK,CAACC,KAAK,EAAI,CACZH,OAAO,CAACG,KAAK,CAAC,SAAS,CAAEA,KAAK,CAAC,CACnC,CAAC,CAAC,CACV,CAAC,CAAEA,KAAK,EAAI,CACRH,OAAO,CAACG,KAAK,CAAC,yBAAyB,CAAEA,KAAK,CAAC,CACnD,CAAC,CAAC,CACN,CAAC,CACDhC,SAAS,CAAC,IAAM,CACZiB,oBAAoB,CAAC,CAAC,CAC1B,CAAC,CAAE,EAAE,CAAC,CAGN,mBACIR,IAAA,CAAAI,SAAA,EAAAoB,QAAA,cACAtB,KAAA,QAAKuB,SAAS,CAAEjC,MAAM,CAACkC,UAAW,CAAAF,QAAA,eAC9BxB,IAAA,QAAKyB,SAAS,CAAEjC,MAAM,CAACmC,IAAK,CAAAH,QAAA,cACpBxB,IAAA,CAACF,eAAe,GAAC,CAAC,CACrB,CAAC,cACNE,IAAA,QAAKyB,SAAS,CAAEjC,MAAM,CAACoC,IAAK,CAAAJ,QAAA,cACpBtB,KAAA,QAAKuB,SAAS,CAAEjC,MAAM,CAACqC,eAAgB,CAAAL,QAAA,eACnCxB,IAAA,QAAKyB,SAAS,CAAEjC,MAAM,CAACsC,SAAU,CAAAN,QAAA,cAC7BxB,IAAA,CAACN,sBAAsB,GAAC,CAAC,CACxB,CAAC,cACNM,IAAA,QAAKyB,SAAS,CAAEjC,MAAM,CAACuC,SAAU,CAAAP,QAAA,cAC7BxB,IAAA,CAACL,cAAc,EAACwB,IAAI,CAAEb,YAAa,CAAC,CAAC,CACpC,CAAC,cACNN,IAAA,QAAKyB,SAAS,CAAEjC,MAAM,CAACsC,SAAU,CAAAN,QAAA,cAC7BxB,IAAA,CAACH,MAAM,GAAC,CAAC,CACR,CAAC,cACNG,IAAA,QAAKyB,SAAS,CAAEjC,MAAM,CAACuC,SAAU,CAAAP,QAAA,cAC7BxB,IAAA,CAACJ,eAAe,GAAC,CAAC,CACjB,CAAC,EACL,CAAC,CAEL,CAAC,EACL,CAAC,CAER,CAAC,CAEX,CAEA,cAAe,CAAAS,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}