{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import styles from'./detailPost.module.css';import{useParams,Link,useNavigate}from'react-router-dom';// React Router가 필요합니다.\nimport{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";function DetailPost(props){var _detailPostData$post2,_detailPostData$post3,_detailPostData$post4,_detailPostData$post5,_detailPostData$post6,_detailPostData$post7,_detailPostData$post8,_detailPostData$post9,_detailPostData$post10;const[detailPostData,setDetailPostData]=useState({});const{id}=useParams();const navigate=useNavigate();//////delet post요청/////\nconst handleDeletePost=()=>{var _detailPostData$post;axios.post(\"http://localhost:3001/deletePost/\".concat((_detailPostData$post=detailPostData.post)===null||_detailPostData$post===void 0?void 0:_detailPostData$post.id),null,{withCredentials:true}).then(res=>{// 성공적으로 삭제된 경우 처리할 내용\nconsole.log('게시물이 성공적으로 삭제되었습니다.');navigate('/board');// 삭제 후 어떤 페이지로 리다이렉트할지 결정할 수 있습니다.\n}).catch(err=>{// 삭제 실패 시 처리할 내용\nconsole.error('게시물 삭제 중 오류가 발생했습니다:',err);// 실패한 경우 사용자에게 알리거나 다른 처리를 할 수 있습니다.\n});};////////////////////\nuseEffect(()=>{axios.get(\"http://localhost:3001/detailPost/\".concat(id),{withCredentials:true}).then(res=>{// console.log('데이터 확인: ', res.data.currentPage);\n// console.log(res);\nconsole.log('detail 데이터 : '+res.data);setDetailPostData(res.data);});},[id]);return/*#__PURE__*/_jsxs(\"body\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"p\",{children:[detailPostData.userRealName,\"\\uB2D8 \"]})}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"\\uC81C\\uBAA9\"}),/*#__PURE__*/_jsx(\"td\",{className:\"title\",children:(_detailPostData$post2=detailPostData.post)===null||_detailPostData$post2===void 0?void 0:_detailPostData$post2.title})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"\\uC791\\uC131\\uC790\"}),/*#__PURE__*/_jsx(\"td\",{className:\"author\",children:(_detailPostData$post3=detailPostData.post)===null||_detailPostData$post3===void 0?void 0:_detailPostData$post3.author})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"\\uAC8C\\uC2DC\\uAE00 \\uB0B4\\uC6A9\"}),/*#__PURE__*/_jsxs(\"td\",{className:\"content\",style:{wordWrap:'break-word'},children:[(_detailPostData$post4=detailPostData.post)===null||_detailPostData$post4===void 0?void 0:_detailPostData$post4.content,((_detailPostData$post5=detailPostData.post)===null||_detailPostData$post5===void 0?void 0:_detailPostData$post5.file_original_name)&&/*#__PURE__*/_jsx(\"ul\",{style:{listStyleType:'none',paddingLeft:0},children:detailPostData.post.file_original_name.split(';').map((originalName,index)=>{const extension=originalName.split('.').pop();if(['jpg','jpeg','png'].includes(extension)){return/*#__PURE__*/_jsx(\"li\",{style:{textAlign:'center'},children:/*#__PURE__*/_jsx(\"img\",{src:\"/uploads/\".concat(detailPostData.post.file_stored_name.split(';')[index]),alt:originalName,style:{maxWidth:'100%',height:'auto'}})});}return null;})})]})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"\\uC0DD\\uC131\\uC77C\"}),/*#__PURE__*/_jsx(\"td\",{children:(_detailPostData$post6=detailPostData.post)===null||_detailPostData$post6===void 0?void 0:_detailPostData$post6.created_at})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"\\uC870\\uD68C\\uC218\"}),/*#__PURE__*/_jsx(\"td\",{children:(_detailPostData$post7=detailPostData.post)===null||_detailPostData$post7===void 0?void 0:_detailPostData$post7.views})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"\\uC88B\\uC544\\uC694 \\uC218\"}),/*#__PURE__*/_jsx(\"td\",{children:(_detailPostData$post8=detailPostData.post)===null||_detailPostData$post8===void 0?void 0:_detailPostData$post8.likes})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"attachment-section center\",children:(_detailPostData$post9=detailPostData.post)!==null&&_detailPostData$post9!==void 0&&_detailPostData$post9.file_original_name?/*#__PURE__*/_jsx(\"ul\",{style:{listStyleType:'none',paddingLeft:0},children:detailPostData.post.file_original_name.split(';').map((originalName,index)=>/*#__PURE__*/_jsx(\"li\",{style:{textAlign:'center'},children:/*#__PURE__*/_jsx(\"a\",{href:\"/uploads/\".concat(detailPostData.post.file_stored_name.split(';')[index]),download:originalName,children:originalName})}))}):// <p>첨부된 파일이 없습니다.</p>\n''}),/*#__PURE__*/_jsxs(\"div\",{className:styles.prev,children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"button\",children:\"\\uC774\\uC804 \\uD398\\uC774\\uC9C0\\uB85C \\uB3CC\\uC544\\uAC00\\uAE30\"}),/*#__PURE__*/_jsx(Link,{to:\"/editPost/\".concat((_detailPostData$post10=detailPostData.post)===null||_detailPostData$post10===void 0?void 0:_detailPostData$post10.id),className:\"button\",children:\"\\uC218\\uC815\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button\",onClick:handleDeletePost,children:\"\\uC0AD\\uC81C\"})]})]});}export default DetailPost;","map":{"version":3,"names":["React","useState","useEffect","axios","styles","useParams","Link","useNavigate","jsxs","_jsxs","jsx","_jsx","DetailPost","props","_detailPostData$post2","_detailPostData$post3","_detailPostData$post4","_detailPostData$post5","_detailPostData$post6","_detailPostData$post7","_detailPostData$post8","_detailPostData$post9","_detailPostData$post10","detailPostData","setDetailPostData","id","navigate","handleDeletePost","_detailPostData$post","post","concat","withCredentials","then","res","console","log","catch","err","error","get","data","children","userRealName","className","title","author","style","wordWrap","content","file_original_name","listStyleType","paddingLeft","split","map","originalName","index","extension","pop","includes","textAlign","src","file_stored_name","alt","maxWidth","height","created_at","views","likes","href","download","prev","to","onClick"],"sources":["C:/UHB/rest_area/src/board/DetailPost.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport styles from './detailPost.module.css'\r\n\r\nimport {useParams, Link, useNavigate} from 'react-router-dom'; // React Router가 필요합니다.\r\n\r\nfunction DetailPost(props) {\r\n    const [detailPostData, setDetailPostData] = useState({});\r\n    const { id } = useParams();\r\n\r\n    const navigate = useNavigate();\r\n\r\n    //////delet post요청/////\r\n    const handleDeletePost = () => {\r\n        axios.post(`http://localhost:3001/deletePost/${detailPostData.post?.id}`, null, { withCredentials: true })\r\n            .then(res => {\r\n                // 성공적으로 삭제된 경우 처리할 내용\r\n                console.log('게시물이 성공적으로 삭제되었습니다.');\r\n                navigate('/board');\r\n                // 삭제 후 어떤 페이지로 리다이렉트할지 결정할 수 있습니다.\r\n            })\r\n            .catch(err => {\r\n                // 삭제 실패 시 처리할 내용\r\n                console.error('게시물 삭제 중 오류가 발생했습니다:', err);\r\n                // 실패한 경우 사용자에게 알리거나 다른 처리를 할 수 있습니다.\r\n            });\r\n    };\r\n\r\n    ////////////////////\r\n\r\n\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        axios.get(`http://localhost:3001/detailPost/${id}`,{withCredentials: true} )\r\n            .then(res => {\r\n                // console.log('데이터 확인: ', res.data.currentPage);\r\n                // console.log(res);\r\n                console.log('detail 데이터 : ' + res.data);\r\n                setDetailPostData(res.data);\r\n            });\r\n    }, [id]);\r\n\r\n    return (\r\n        <body>\r\n        <div>\r\n            <p>{detailPostData.userRealName}님 </p>\r\n            {/*<p>{props.userRealName}님 </p>*/}\r\n        </div>\r\n        <table>\r\n            <tr>\r\n                <th>제목</th>\r\n                <td className=\"title\">{detailPostData.post?.title}</td>\r\n            </tr>\r\n            <tr>\r\n                <th>작성자</th>\r\n                <td className=\"author\">{detailPostData.post?.author}</td>\r\n            </tr>\r\n            <tr>\r\n                <th>게시글 내용</th>\r\n                <td className=\"content\" style={{wordWrap: 'break-word'}}>\r\n                    {detailPostData.post?.content}\r\n                    {detailPostData.post?.file_original_name && (\r\n                        <ul style={{listStyleType: 'none', paddingLeft: 0}}>\r\n                            {detailPostData.post.file_original_name.split(';').map((originalName, index) => {\r\n                                const extension = originalName.split('.').pop();\r\n                                if (['jpg', 'jpeg', 'png'].includes(extension)) {\r\n                                    return (\r\n                                        <li style={{textAlign: 'center'}}>\r\n                                            <img\r\n                                                src={`/uploads/${detailPostData.post.file_stored_name.split(';')[index]}`}\r\n                                                alt={originalName} style={{maxWidth: '100%', height: 'auto'}}/>\r\n                                        </li>\r\n                                    );\r\n                                }\r\n                                return null;\r\n                            })}\r\n                        </ul>\r\n                    )}\r\n                </td>\r\n            </tr>\r\n            <tr>\r\n                <th>생성일</th>\r\n                <td>{detailPostData.post?.created_at}</td>\r\n            </tr>\r\n            <tr>\r\n                <th>조회수</th>\r\n                <td>{detailPostData.post?.views}</td>\r\n            </tr>\r\n            <tr>\r\n                <th>좋아요 수</th>\r\n                <td>{detailPostData.post?.likes}</td>\r\n            </tr>\r\n        </table>\r\n        <div className=\"attachment-section center\">\r\n            {/*<div className=\"attachment-header\">첨부 파일</div>*/}\r\n            {detailPostData.post?.file_original_name ? (\r\n                <ul style={{listStyleType: 'none', paddingLeft: 0}}>\r\n                    {detailPostData.post.file_original_name.split(';').map((originalName, index) => (\r\n                        <li style={{textAlign: 'center'}}>\r\n                            <a href={`/uploads/${detailPostData.post.file_stored_name.split(';')[index]}`}\r\n                               download={originalName}>\r\n                                {originalName}\r\n                            </a>\r\n                        </li>\r\n                    ))}\r\n                </ul>\r\n            ) : (\r\n                // <p>첨부된 파일이 없습니다.</p>\r\n                ''\r\n            )}\r\n        </div>\r\n\r\n        {/* 댓글 섹션은 주석 처리 */}\r\n        {/* <CommentSection comments={detailPostData.comments} postId={detailPostData.post?.id} userId={detailPostData.userId} /> */}\r\n\r\n        {/*<div className=\"center\">*/}\r\n        {/*    <a href=\"/\" className=\"button\">이전 페이지로 돌아가기</a>*/}\r\n        {/*    <a href={`/editPost/${detailPostData.post?.id}`} className=\"button\">수정</a>*/}\r\n        {/*    <a href={`/deletePost/${detailPostData.post?.id}`} className=\"button\">삭제</a>*/}\r\n        {/*</div>*/}\r\n        <div className={styles.prev}>\r\n            <Link to=\"/\" className=\"button\">이전 페이지로 돌아가기</Link>\r\n            <Link to={`/editPost/${detailPostData.post?.id}`} className=\"button\">수정</Link>\r\n            {/*<Link to={`/deletePost/${detailPostData.post?.id}`} className=\"button\">삭제</Link>*/}\r\n            <button className=\"button\" onClick={handleDeletePost}>삭제</button>\r\n\r\n        </div>\r\n        </body>\r\n    );\r\n}\r\n\r\nexport default DetailPost;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}