{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Chart as ChartJS,LinearScale,CategoryScale,BarElement,Legend,Tooltip,BarController}from'chart.js';import{Bar}from'react-chartjs-2';import axios from'axios';import styles from'./Chart.css';// 전역 폰트 설정\nimport{jsx as _jsx}from\"react/jsx-runtime\";ChartJS.defaults.font.family='GmarketSans';ChartJS.defaults.font.size=14;ChartJS.defaults.font.style='normal';function App(){ChartJS.register(LinearScale,CategoryScale,BarElement,Legend,Tooltip,BarController);const[stations,setStations]=useState([]);useEffect(()=>{axios.get('http://13.125.136.48:5000/api/avgAllPrice').then(response=>{setStations(response.data);}).catch(error=>{console.error('Error fetching data: ',error);});},[]);const labels=stations.map(station=>station.name);const price=stations.map(station=>station.price);const chartdata={labels,datasets:[{type:'bar',label:'실시간 전국 평균 유가',backgroundColor:'rgb(174,178,217)',data:price.map(price=>parseInt(price,10)),borderColor:'white',borderWidth:2,yAxisID:'y',barPercentage:0.7}]};const options={plugins:{legend:{display:true,labels:{font:{size:16,weight:'bold'}}},tooltip:{bodyFont:{size:15},callbacks:{title:function(){return'';// 타이틀을 비우거나 비활성화\n},label:function(context){return\"\".concat(context.label.split(\" : \")[0],\": \").concat(context.parsed.y,\"\\uC6D0\");// return `${context.parsed.y}원`;\n}}}},scales:{x:{ticks:{font:{weight:'bold',size:15}}},'y':{display:true,position:'left',min:900,max:2000,ticks:{stepSize:20,color:'#333',font:{size:15}},grid:{color:'#e5e5e5',borderDash:[5,5],drawBorder:false}}}};return/*#__PURE__*/_jsx(\"div\",{className:styles.Chart,children:/*#__PURE__*/_jsx(Bar,{data:chartdata,options:options,width:600,height:460})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","Chart","ChartJS","LinearScale","CategoryScale","BarElement","Legend","Tooltip","BarController","Bar","axios","styles","jsx","_jsx","defaults","font","family","size","style","App","register","stations","setStations","get","then","response","data","catch","error","console","labels","map","station","name","price","chartdata","datasets","type","label","backgroundColor","parseInt","borderColor","borderWidth","yAxisID","barPercentage","options","plugins","legend","display","weight","tooltip","bodyFont","callbacks","title","context","concat","split","parsed","y","scales","x","ticks","position","min","max","stepSize","color","grid","borderDash","drawBorder","className","children","width","height"],"sources":["C:/UHB/rest_area/src/routes/Chart/NationalGasPricesChart.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n    Chart as ChartJS,\r\n    LinearScale,\r\n    CategoryScale,\r\n    BarElement,\r\n    Legend,\r\n    Tooltip,\r\n    BarController,\r\n} from 'chart.js';\r\nimport { Bar } from 'react-chartjs-2';\r\nimport axios from 'axios';\r\nimport styles from './Chart.css'\r\n// 전역 폰트 설정\r\nChartJS.defaults.font.family = 'GmarketSans';\r\nChartJS.defaults.font.size = 14;\r\nChartJS.defaults.font.style = 'normal';\r\n\r\nfunction App() {\r\n    ChartJS.register(\r\n        LinearScale,\r\n        CategoryScale,\r\n        BarElement,\r\n        Legend,\r\n        Tooltip,\r\n        BarController\r\n    );\r\n\r\n    const [stations, setStations] = useState([]);\r\n\r\n    useEffect(() => {\r\n        axios.get('http://13.125.136.48:5000/api/avgAllPrice')\r\n            .then(response => {\r\n                setStations(response.data);\r\n            })\r\n            .catch(error => {\r\n                console.error('Error fetching data: ', error);\r\n            })\r\n    }, []);\r\n\r\n    const labels = stations.map(station => station.name);\r\n    const price = stations.map(station => station.price);\r\n\r\n    const chartdata = {\r\n        labels,\r\n        datasets: [\r\n            {\r\n                type: 'bar',\r\n                label: '실시간 전국 평균 유가',\r\n                backgroundColor: 'rgb(174,178,217)',\r\n                data: price.map(price => parseInt(price, 10)),\r\n                borderColor: 'white',\r\n                borderWidth: 2,\r\n                yAxisID: 'y',\r\n                barPercentage: 0.7\r\n            }\r\n        ]\r\n    };\r\n\r\n    const options = {\r\n        plugins: {\r\n            legend: {\r\n                display: true,\r\n                labels: {\r\n                    font: {\r\n                        size: 16,\r\n                        weight: 'bold',\r\n                    }\r\n                }\r\n            },\r\n            tooltip: {\r\n                bodyFont: {\r\n                    size: 15,\r\n                },\r\n                callbacks: {\r\n                    title: function () {\r\n                        return ''; // 타이틀을 비우거나 비활성화\r\n                    },\r\n                    label: function (context) {\r\n                        return `${context.label.split(\" : \")[0]}: ${context.parsed.y}원`;\r\n                        // return `${context.parsed.y}원`;\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        scales: {\r\n            x: {\r\n                ticks: {\r\n                    font: {\r\n                        weight: 'bold',\r\n                        size: 15,\r\n                    }\r\n                }\r\n            },\r\n            'y': {\r\n                display: true,\r\n                position: 'left',\r\n                min: 900,\r\n                max: 2000,\r\n                ticks: {\r\n                    stepSize: 20,\r\n                    color: '#333',\r\n                    font: {\r\n                        size: 15,\r\n                    }\r\n                },\r\n                grid: {\r\n                    color: '#e5e5e5',\r\n                    borderDash: [5, 5],\r\n                    drawBorder: false,\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    return(\r\n    <div className={styles.Chart}>\r\n        <Bar data={chartdata} options={options} width={600} height={460}/>\r\n    </div>);\r\n\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}